layers:
    cycleway:
        filter: function (f) { return f.properties.highway == "cycleway"; }
        color:
            default: [.8, 0., 0.8]
        width:
            default: Style.pixels(5)

    bridges:
        filter: function (f) { return f.properties.is_bridge == "yes"; }
        color:
            default: [.0, 0.8, 0.8]
        width:
            default: Style.pixels(10)

    roads:
        # filter: function (f) { return f.properties.highway != "cycleway"; }
        # filter: function (f) { return f.properties.highway == "cycleway"; }
        color:
            default: [1., 1., 1.]
            # default: Style.color.pseudoRandomColor
            # default: Style.color.randomColor
        width:
            default: 2
            # highway: 20
            # major_road: 10
            # minor_road: 5
            # path: 1
            # cycleway: 10

    buildings:
        mode:
            name: buildings
        color:
            default: [.8, .8, .8]
            # default: |
            #     function (f) {
            #         var c = [.8, .8, .8];
            #         if (f.properties.name || f.properties.kind) {
            #             c = [1, .3, .3];
            #         }
            #         return c;
            #     }
        filter: function (f) { return f.properties.height > 5; }
        extrude:
            default: function (f, t) { return ((t.coords.z >= 14 && f.properties.height > 20) || t.coords.z >= 16) }

    earth:
        color: 
            default: [.5, .5, .5]

    landuse:
        color:
            default: [.6, .6, .6]

    water:
        color:
            default: [.4, .4, .4]

modes:
    buildings:
        extends: polygons
        shaders:
            uniforms:
                u_color_height: 0
            transforms:
                globals: |
                    uniform float u_color_height;
                fragment: |
                    if (v_world_position.z > u_color_height) color = vec3(.8);
                    else color = vec3(.5);
