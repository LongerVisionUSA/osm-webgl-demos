styles:
    transparent:
        extends: polygons
        shaders:
            transforms:
                fragment: if (color == vec4(0.)) discard;

layers:
    earth:
        geometry: {filter: earth}
        style:
            order: 0
            name: transparent
            color: [0, 0, 0]
            outline:
                color: [1, .5, .5]
                width: 2px
                tile_edges: true

    landuse:
        geometry: {filter: landuse}
        style:
            order: 1
            name: transparent
            color: [0, 0, 0]
            outline:
                color: [.5, 1., .5]
                width: 2px

    water:
        geometry: {filter: water}
        style:
            order: 2
            name: transparent
            color: [0, 0, 0]
            outline:
                color: [.5, .5, 1]
                width: 2px
                tile_edges: true

    roads:
        geometry: {filter: roads}
        style:
            order: 3
            color: [1, 1, 1]
        highway:
            filter: 
                kind: highway
            style:
                width: 10
        major_road:
            filter: 
                kind: major_road
            style:
                width: 7
        minor_road:
            filter: 
                kind: minor_road
            style:
                width: 5
        path:
            filter: 
                kind: path
            style:
                width: 3

    buildings:
        geometry: {filter: buildings}
        style:
            order: 4
            name: transparent
            color: [0, 0, 0]
            outline:
                color: [1., .5., 1.]
                width: 1px
